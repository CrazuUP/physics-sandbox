<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Столкновение тележки с пружиной | Симуляция физических экспериментов</title>
    <link rel="stylesheet" href="css/experiment-styles.css">
</head>
<body>
<script src="js/pruzh.js"></script>
<header>
    <h1>Столкновение тележки с пружиной</h1>
    <div class="creators">Создатели: Ипантьев Иван, Гончаров Максим, Ахроров Кароматуллохон</div>
</header>

<div class="container">
    <nav class="breadcrumb" aria-label="Хлебные крошки">
        <a href="index.html">Главная</a>
        <span>Столкновение тележки с пружиной</span>
    </nav>

    <section class="intro">
        <h2>Краткое описание</h2>
        <p>Эксперимент моделирует лабораторную установку: тележка на гладком треке наезжает на пружину, которая может отражать тележку или удерживать её. Можно задавать массу тележки, начальную скорость, жёсткость пружины и коэффициент потерь.</p>
        <p>Планируются два режима: «отскок» с восстановлением энергии и «залипание», когда тележка остаётся прижатой. Отдельный индикатор покажет баланс кинетической и потенциальной энергий и максимальное сжатие пружины.</p>
    </section>

    <div class="content-grid">
        <section class="info-card">
            <h3>Цели эксперимента</h3>
            <ul>
                <li>Изучить превращение кинетической энергии в потенциальную энергию пружины.</li>
                <li>Определить максимальное сжатие пружины при разных условиях.</li>
                <li>Оценить влияние потерь на амплитуду колебаний тележки.</li>
            </ul>
        </section>

        <section class="info-card">
            <h3>Основные формулы</h3>
            <ul>
                <li><strong>E<sub>k</sub> = m·v² / 2</strong> — кинетическая энергия тележки.</li>
                <li><strong>E<sub>пруж</sub> = k·x² / 2</strong> — потенциальная энергия пружины.</li>
                <li>Максимальное сжатие: <strong>x = √(m·v² / k)</strong> (без потерь).</li>
            </ul>
        </section>
    </div>

    <section class="simulation-area">
        <h3>Область симуляции</h3>
        <p>Здесь анимация движения тележки, деформации пружины и графики энергии. Отображается сетка времени, отметка максимального сжатия и режим демпфирования.</p>
        <canvas id="cart-spring-canvas" class="simulation-canvas" width="900" height="450" aria-label="Симуляция столкновения тележки с пружиной"></canvas>
        <div class="visual-hint">Индикаторы на сцене покажут распределение энергий, а также подпишут момент остановки тележки.</div>
    </section>

    <section class="info-card" style="margin-top: 20px;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
            <h3 style="margin: 0;">История экспериментов</h3>
            <button id="toggle-history-btn" class="action-btn" style="padding: 5px 10px; font-size: 14px;">Показать историю экспериментов</button>
        </div>

        <div id="history-container" style="display: none;">
            <p>Нажмите "Сброс", чтобы сохранить результат текущего опыта.</p>
            <table class="data-table" id="history-table" style="width: 100%; border-collapse: collapse; margin-top: 10px;">
                <thead>
                <tr style="background-color: #f2f2f2; text-align: left;">
                    <th style="padding: 8px; border: 1px solid #ddd;">#</th>
                    <th style="padding: 8px; border: 1px solid #ddd;">m (кг)</th>
                    <th style="padding: 8px; border: 1px solid #ddd;">v0 (м/с)</th>
                    <th style="padding: 8px; border: 1px solid #ddd;">k (Н/м)</th>
                    <th style="padding: 8px; border: 1px solid #ddd;">Угол (°)</th>
                    <th style="padding: 8px; border: 1px solid #ddd;">Max сжатие (м)</th>
                    <th style="padding: 8px; border: 1px solid #ddd;">Max Ek (Дж)</th>
                </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
    </section>

    <section class="controls">
        <h3>Параметры модели</h3>
        <form class="controls-form" aria-label="Настройки столкновения тележки с пружиной">
            <fieldset>
                <legend>Тележка и Среда</legend>
                <div class="option-grid two-columns">
                    <div class="parameter-control">
                        <label for="cart-mass">Масса тележки (кг)</label>
                        <input type="range" id="cart-mass" name="cart_mass" min="0.5" max="100" step="0.1" value="1.5">
                        <input type="number" id="cart-mass-number" min="0.5" max="100" step="0.1" value="1.5">
                        <output id="cart-mass-value" for="cart-mass">1.5</output>
                    </div>
                    <div class="parameter-control">
                        <label for="cart-speed">Начальная скорость (м/с)</label>
                        <input type="range" id="cart-speed" name="cart_speed" min="0" max="50" step="0.5" value="4">
                        <input type="number" id="cart-speed-number" min="0" max="50" step="0.5" value="4">
                        <output id="cart-speed-value" for="cart-speed">4.0</output>
                    </div>
                    <div class="parameter-control">
                        <label for="track-angle">Угол наклона (°)</label>
                        <input type="range" id="track-angle" name="track_angle" min="0" max="45" step="1" value="0">
                        <input type="number" id="track-angle-number" min="0" max="45" step="1" value="0">
                        <output id="track-angle-value" for="track-angle">0</output>
                    </div>
                    <div class="parameter-control">
                        <label for="cart-friction">Сопротивление движения</label>
                        <input type="range" id="cart-friction" name="cart_friction" min="0" max="1" step="0.01" value="0.02">
                        <input type="number" id="cart-friction-number" min="0" max="1" step="0.01" value="0.02">
                        <output id="cart-friction-value" for="cart-friction">0.02</output>
                    </div>
                </div>
            </fieldset>

            <fieldset>
                <legend>Пружина и Настройки</legend>
                <div class="option-grid two-columns">
                    <div class="parameter-control">
                        <label for="spring-stiffness">Жёсткость пружины (Н/м)</label>
                        <input type="range" id="spring-stiffness" name="spring_stiffness" min="50" max="5000" step="10" value="200">
                        <input type="number" id="spring-stiffness-number" min="50" max="5000" step="10" value="200">
                        <output id="spring-stiffness-value" for="spring-stiffness">200</output>
                    </div>

                    <div class="parameter-control">
                        <label for="cart-position">Нач. расстояние (м)</label>
                        <input type="range" id="cart-position" min="0.1" max="5" step="0.1" value="1.5">
                        <input type="number" id="cart-position-number" min="0.1" max="5" step="0.1" value="1.5">
                        <output id="cart-position-value">1.50</output>
                    </div>

                    <div class="parameter-control">
                        <label for="spring-preload">Преднатяг пружины (см)</label>
                        <input type="range" id="spring-preload" min="0" max="20" step="0.5" value="0">
                        <input type="number" id="spring-preload-number" min="0" max="20" step="0.5" value="0">
                        <output id="spring-preload-value">0.00</output>
                    </div>

                    <div class="parameter-control">
                        <label for="cart-damping">Коэффициент потерь пружины</label>
                        <input type="range" id="cart-damping" name="damping" min="0" max="2" step="0.01" value="0.05">
                        <input type="number" id="cart-damping-number" min="0" max="2" step="0.01" value="0.05">
                        <output id="cart-damping-value" for="cart-damping">0.05</output>
                    </div>
                </div>
                <div class="checkbox-grid" role="group" aria-label="Режимы контакта">
                    <label>
                        <input type="checkbox" id="contact-lock" name="contact_lock">
                        Режим «залипания»
                    </label>
                    <label style="color: #000036; font-weight: bold;">
                        <input type="checkbox" id="slow-motion" name="slow_motion">
                        Замедление (x0.1)
                    </label>
                    <label>
                        <input type="checkbox" id="contact-show-force" name="show_force" checked>
                        График силы пружины
                    </label>
                    <label>
                        <input type="checkbox" id="contact-show-energy" name="show_energy" checked>
                        Графики энергий
                    </label>
                </div>
            </fieldset>
        </form>
        <div class="control-actions">
            <button type="button" class="action-btn" id="cart-start">Запуск симуляции</button>
            <button type="button" class="action-btn" id="cart-reset">Сброс параметров</button>
            <button type="button" class="action-btn" id="stop-graphs">Остановить графики</button>
            <button type="button" class="action-btn" id="export-data" style="background-color: #28a745;">Экспорт данных (CSV)</button>

            <button type="button" class="action-btn" id="export-photo" style="background-color: #007bff;">Экспорт фото (PNG)</button>

        </div>



        <p class="controls-hint">Наклон влияет на ускорение тележки под действием гравитации.</p>
    </section>





    <button class="back-btn" onclick="window.location.href='index.html'">← Вернуться к списку экспериментов</button>
</div>

<footer>
    <p>© 2025 Симуляция физических экспериментов</p>
    <a href="https://study.physics.itmo.ru/" class="atom-link" target="_blank" rel="noopener">
        <img src="img/atom.jpg" alt="Атом" title="Перейти на сайт study.physics.itmo.ru">
    </a>
</footer>


</body>
</html>
